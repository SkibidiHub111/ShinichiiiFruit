-- Shinichi Hub - Auto Find Fruit, Server Hop (10 Giây), Avatar Change, UI Timer

-- Roblox Asset ID để đổi Avatar
local avatarAssetId = "74026087738956" -- Thay ID này để đổi avatar

-- Tự động đổi Avatar
pcall(function()
    local Players = game:GetService("Players")
    local player = Players.LocalPlayer
    player.CharacterAppearanceId = avatarAssetId
    player:LoadCharacter()
    print("Avatar đã được đổi thành Asset ID: " .. avatarAssetId)
end)

-- Tạo UI hiển thị thời gian treo
local ScreenGui = Instance.new("ScreenGui")
local TimerLabel = Instance.new("TextLabel")

ScreenGui.Parent = game.CoreGui
TimerLabel.Parent = ScreenGui
TimerLabel.Position = UDim2.new(0.85, 0, 0.05, 0)
TimerLabel.Size = UDim2.new(0, 150, 0, 50)
TimerLabel.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
TimerLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TimerLabel.TextSize = 20
TimerLabel.Text = "Treo: 0s"

-- Bắt đầu đếm thời gian treo
local treoThoiGian = 0
spawn(function()
    while true do
        wait(1)
        treoThoiGian = treoThoiGian + 1
        TimerLabel.Text = "Treo: " .. treoThoiGian .. "s"
    end
end)

-- Tự tìm Trái Ác Quỷ và tự động đổi server sau 10 giây nếu không tìm thấy hoặc đã nhặt
local function findFruitAndHop()
    while true do
        wait(5)
        local fruitFound = false
        for _, obj in pairs(game.Workspace:GetDescendants()) do
            if obj:IsA("Tool") and string.find(obj.Name:lower(), "fruit") then
                fruitFound = true
                game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = obj.Handle.CFrame
                wait(2)
                fireclickdetector(obj.Handle:FindFirstChildOfClass("ClickDetector"))
                print("Đã nhặt được trái: " .. obj.Name)
                break
            end
        end

        -- Server hop sau 10 giây nếu không tìm thấy Trái Ác Quỷ
        if not fruitFound then
            print("Không tìm thấy Trái Ác Quỷ, đang đợi 10 giây trước khi chuyển server...")
            wait(10) -- Đợi 10 giây trước khi chuyển server
            print("Đang chuyển server...")

            local HttpService = game:GetService("HttpService")
            local TeleportService = game:GetService("TeleportService")
            local PlaceID = game.PlaceId

            local Servers = HttpService:JSONDecode(game:HttpGet("https://games.roblox.com/v1/games/"..PlaceID.."/servers/Public?sortOrder=Asc&limit=100")).data
            for _, server in pairs(Servers) do
                if server.playing < server.maxPlayers then
                    TeleportService:TeleportToPlaceInstance(PlaceID, server.id)
                    break
                end
            end
        else
            wait(300) -- Chờ 5 phút trước khi tìm lại nếu đã nhặt được trái
        end
    end
end

-- Bắt đầu Auto Find Fruit
findFruitAndHop()
